{"version":3,"sources":["webpack:///./src/templates/allTags.tsx","webpack:///./src/components/tag.tsx"],"names":["AllTagsIndex","tags","pageContext","style","showBorder","showLabel","StyledLink","styled","Link","StyledPre","pre","props","tagsLength","StyledLabel","label","Tag","sort","a","b","labelA","labelB","toLowerCase","length","map","tag","count","key","to"],"mappings":"6FAAA,wDAkBeA,UAbM,SAAC,GAA0C,IACtDC,EADsD,EAAxCC,YACdD,KAKR,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKE,MANQ,CACfC,YAAY,EACZC,WAAW,GAIaJ,KAAMA,O,+FCT5BK,EAAaC,YAAOC,QAAV,qEAAGD,CAAH,6RAmBVE,EAAYF,IAAOG,IAAV,oEAAGH,CAAH,sFACF,SAAAI,GAAK,OAAKA,EAAMC,WAAa,OAAS,UAGnC,SAAAD,GAAK,OAAKA,EAAMP,WAAa,oBAAsB,UAI7DS,EAAcN,IAAOO,MAAV,sEAAGP,CAAH,oCAEJ,SAAAI,GAAK,OAAKA,EAAMN,UAAY,OAAS,UAuDnCU,IAvCH,SAACJ,GAAoB,MACsCA,EAA7DR,aADuB,MACf,CAAEC,YAAY,EAAMC,WAAW,GADhB,IACsCM,EAAdV,YADxB,MAC+B,GAD/B,EAe/B,OAbCA,EAAae,MAAK,SAACC,EAAwBC,GAC1C,IAAIC,EAAS,KACTC,EAAS,KASb,MARiB,iBAANH,GAA+B,iBAANC,GAClCC,EAASF,EACTG,EAASF,IAETC,EAAUF,EAAiBH,MAC3BM,EAAUF,EAAiBJ,OAGtBK,EAAOE,cAAgBD,EAAOC,gBAAkB,KAGvD,kBAACZ,EAAD,CAAWL,WAAYD,EAAMC,WAAYQ,WAAYX,EAAKqB,QACxD,kBAACT,EAAD,CAAaR,UAAWF,EAAME,WAA9B,OACEJ,EAAasB,KAAI,SAACC,GAClB,IAAIV,EAAQ,KACRW,EAAQ,KAQZ,MAPmB,iBAARD,EACTV,EAAQU,GAERV,EAAQU,EAAIV,MACZW,EAAQD,EAAIC,OAIZ,kBAACnB,EAAD,CAAYoB,IAAKZ,EAAOa,GAAE,SAAWb,GAClCA,EACAW,GAAS,KAAKA,EAAT","file":"component---src-templates-all-tags-tsx-c301881764071ddc7ab4.js","sourcesContent":["import React from 'react';\n\nimport Layout from '../components/layout';\nimport Tag from '../components/tag';\n\nconst AllTagsIndex = ({ pageContext }: { pageContext: any }) => {\n  const { tags } = pageContext;\n  const tagStyle = {\n    showBorder: false,\n    showLabel: false,\n  };\n  return (\n    <Layout>\n      <Tag style={tagStyle} tags={tags} />\n    </Layout>\n  );\n};\n\nexport default AllTagsIndex;\n","import React from 'react';\nimport { Link } from 'gatsby';\nimport styled from 'styled-components';\n\nconst StyledLink = styled(Link)`\n  text-align: center;\n  color: #fff;\n  margin-right: 0.5rem;\n  padding: 0.25rem 0.5rem;\n  display: inline-block;\n  border-radius: 0.875rem;\n  height: 1rem;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  line-height: 1rem;\n  transition: opacity 0.1s ease-in-out;\n  background: #74d2ff;\n  margin-top: 0.5rem;\n  &:hover {\n    opacity: 0.85;\n  }\n`;\n\nconst StyledPre = styled.pre<{ tagsLength: number; showBorder: boolean }>`\n  display: ${props => (props.tagsLength ? 'flex' : 'none')};\n  align-items: center;\n  flex-wrap: wrap;\n  border-top: ${props => (props.showBorder ? '1px solid #74d2ff' : 'none')};\n  padding-top: 0.5rem;\n`;\n\nconst StyledLabel = styled.label<{ showLabel: boolean }>`\n  margin-top: 0.5rem;\n  display: ${props => (props.showLabel ? 'flex' : 'none')};\n`;\n\ninterface TagWrapper {\n  label: string;\n  count: number;\n}\n\ninterface TagProps {\n  tags: TagWrapper[] | string[];\n  style?: {\n    showBorder: boolean;\n    showLabel: boolean;\n  };\n}\n\nconst Tag = (props: TagProps) => {\n  const { style = { showBorder: true, showLabel: true }, tags = [] } = props;\n  (tags as any).sort((a: TagWrapper | string, b: TagWrapper | string) => {\n    let labelA = null;\n    let labelB = null;\n    if (typeof a === 'string' && typeof b === 'string') {\n      labelA = a;\n      labelB = b;\n    } else {\n      labelA = (a as TagWrapper).label;\n      labelB = (b as TagWrapper).label;\n    }\n\n    return labelA.toLowerCase() < labelB.toLowerCase() && -1;\n  });\n  return (\n    <StyledPre showBorder={style.showBorder} tagsLength={tags.length}>\n      <StyledLabel showLabel={style.showLabel}>标签：</StyledLabel>\n      {(tags as any).map((tag: TagWrapper | string) => {\n        let label = null;\n        let count = null;\n        if (typeof tag === 'string') {\n          label = tag;\n        } else {\n          label = tag.label;\n          count = tag.count;\n        }\n\n        return (\n          <StyledLink key={label} to={`/tags/${label}`}>\n            {label}\n            {count && ` (${count})`}\n          </StyledLink>\n        );\n      })}\n    </StyledPre>\n  );\n};\n\nexport default Tag;\n"],"sourceRoot":""}