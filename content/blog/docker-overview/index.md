---
title: Docker 简介
date: '2019-12-30 23:33'
description: 'Docker 简介，Docker 能做什么以及底层原理'
tags: ['docker']
---

## 简述

Docker 是集开发、发布、执行应用功能的一个开放平台。Docker 能够帮我们将应用和基础设施分离来达到更快的交付。有了 Docker，我们可以像管理基础设施一样管理我们的软件。有了 Docker 快速发布、测试、部署代码的优势，我们可以显著减少从编写代码到在生产环境执行的时间间隔。

## Docker 平台

Docker 提供了在松散隔离的环境（被称作容器：container）中打包执行应用的能力。隔离和安全能力允许我们在一台宿主机上同时运行多个容器。容器本身是轻量的，它们不需要管理程序额外的负载，直接在宿主机的内核上运行。这意味着与虚拟机相比，我们可以在给定的硬件组合上运行更多容器。甚至我们可以在实际上是虚拟机的宿主机上运行 Docker 容器。

Docker 提供了工具和平台来管理容器的生命周期：

- 使用容器开发应用程序和它支持的组件
- 容器时发行和测试应用的单元
- 准备就绪后，将应用程序作为容器或编排的服务部署到生产环境。无论生产环境是本地数据中心，云厂商，还是两者的结合，它们的工作原理都是相同的。

## Docker 引擎

Docker 引擎是一个拥有下面主要功能的客户端程序：

- 一种长期运行的称为守护进程的程序服务（`dockerd` 命令）
- REST API，指定程序可以用来与守护进程通信并指示其操作的接口
- 命令行接口（CLI）客户端（`docker` 命令）

![engine components flow](engine-components-flow.png)

CLI 使用 Docker REST API 通过脚本或直接 CLI 命令行来控制 Docker 守护进程或与 Docker 守护进程进行通信。许多其他 Docker 应用都使用底层 API 和 CLI。

守护进程创建和管理 Docker 对象，例如镜像，容器，网络，和卷。

> 注意：Docker 是基于开源的 Apache 2.0 许可

更多信息查看下面的 [Docker 架构](#docker-architecture)。

## 我们能用 Docker 来做什么

### 快速一致地发布应用程序

Docker 允许开发者使用提供了应用程序和服务的本地容器在标准化环境下工作，从而简化开发过程。容器非常适合持续集成/持续发布（CI/CD）的工作流。

考虑下面的场景：

- 开发者在本地编写代码并通过 Docker 容器来与同事共享
- 他们使用 Docker 将应用推送到测试环境并执行自动、手动的测试
- 当开发者发现了问题，他们可以在开发环境修复问题并重新发布到测试环境进行测试和验证
- 当测试完成，将修复后的程序推送给用户就像将更新的镜像推送到生产环境一样简单

### 响应式部署和扩容

Docker 基于容器的平台允许高度的移植性。Docker 容器可以在开发者自身的电脑上，在数据中心的物理或虚拟机上，在云厂商上或混合的环境下运行。

Docker 的可移植性和轻量的本质在真实环境下亦可以动态管理工作负载，根据商业需要进行扩容或回收应用。

### 在同一个硬件上运行更多工作负载

Docker 是轻量的、快速的。它为基于管理程序的虚拟机提供了可行的，经济划算的替代方案，所以我们可以拥有更多算力来实现我们的商业目标。Docker 非常适合高密度环境和中小型部署需要更少资源做更多事情的场景。

## <a name="docker-architecture"></a>Docker 架构
